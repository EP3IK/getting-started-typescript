# 8. 이넘

## 8.1 이넘이란?

특정 값의 집합을 의미하는 데이터 타입이다.
고정된 값을 어떤 의미를 가지는지 알려줌으로써 가독성을 높이는 상수를 여러 개 묶어서 하나의 단위로 묶으면 이넘이 된다.

```
신발 브랜드
- 나이키
- 아디다스
- 뉴발란스
```

⬇

```ts
enum ShoesBrand {
  NIKE,
  ADIDAS,
  NEW_BALANCE,
}

const myShoes = ShoesBrand.NIKE;
const yourShoes = ShoesBrand.NEW_BALANCE;
```

## 8.2 숫자형 이넘

이넘에 선언된 속성은 기본적으로 숫자 값을 가진다.

```ts
enum Direction {
  UP, // 0
  DOWN, // 1
  LEFT, // 2
  RIGHT, // 3
}

console.log(Direction.UP); // 0
console.log(Direction[0]); // 'UP'
```

이넘 변수에 실제로 어떤 값이 할당되는지는 아래의 규칙에 의해 결정된다.

1. 첫 번째 이넘의 속성에 수를 명시하지 않으면 0이 할당된다.
2. 나머지 명시되지 않은 속성에는 앞선 속성의 값보다 1 증가한 값이 할당된다.

리버스 매핑: 만들어진 이넘은 속성과 값이 거꾸로 연결되어 할당된다.

이넘의 속성 값을 변경하려면 명시적으로 선언하면 된다.

## 8.3 문자형 이넘

이넘의 속성 값에 문자열을 연결한 이넘이다.

```ts
enum Direction {
  UP = "UP",
  DOWN = "DOWN",
  LEFT = "LEFT",
  RIGHT = "RIGHT",
}
```

모든 속성 값을 다 문자열로 지정해야 한다.
그렇지 않으면 앞선 속성의 값보다 1 증가한 값이 할당되는 규칙을 적용할 수 없어 에러가 발생한다.

## 8.4 알아 두면 좋은 이넘의 특징

### 8.4.1 혼합 이넘

앞선 속성의 값보다 1 증가한 값이 할당되는 규칙을 적용할 수만 있으면 숫자와 문자열을 섞어서 이넘을 선언할 수 있다.

```ts
enum Answer {
  YES = "YES",
  NO = 1,
  IDK, // 2
}
```

### 8.4.2 다양한 이넘 속성 값 정의 방식

이넘의 속성 값으로 계산한 값을 넣을 수도 있고, 먼저 선언한 이넘의 속성 값을 사용할 수도 있다.

```ts
enum Authorization {
  USER, // 0
  ADMIN, // 1
  SUPER_ADMIN = USER + ADMIN, // 1
  GOD = "abc".length, // 3
}
```

### 8.4.3 const 이넘

타입스크립트를 자바스크립트로 컴파일할 때의 결과물이 보통의 이넘과 다르다.
||enum|const enum|
|-|-|-|
|변환 결과|이넘이 객체로 선언됨|이넘은 코드에 없고 이넘의 속성을 할당한 자리에 값이 그대로 할당됨|
|특징|다양한 정의 방식 사용 가능|코드가 짧음, 고정 값만 넣을 수 있음|

## 8.5 정리

- 이넘: 특정 값의 집합
- 숫자형, 문자형, 규칙만 지키면 혼합도 가능
- 다양한 이넘 속성 값 정의 방식: 계산, 앞서 선언한 값 사용
- const 이넘

> 우리 팀은 어째서 이넘을 쓰지 않는가?
> https://techblog.woowahan.com/9804/#toc-1
> enum은 트리 셰이킹이 완 되어 용량 문제가, const enum은 환경을 타는 문제가 있어서 객체 const assertion을 쓰게 된 것 같다.
